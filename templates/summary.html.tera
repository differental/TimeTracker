<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>TimeTracker â€” Summary</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="container">
    <h1 class="my-4">ðŸ“Š Activity Breakdown ({{ range_label }})</h1>

    <div class="d-flex flex-column flex-md-row align-items-start mb-4">
        <!-- SVG pie chart (no JS) -->
        <svg width="320" height="320" viewBox="0 0 32 32" class="me-md-5">
            {% for seg in segments %}
            <circle r="16" cx="16" cy="16"
                    stroke="{{ seg.color }}"
                    stroke-width="32"
                    fill="transparent"
                    stroke-dasharray="{{ seg.percent }} 100"
                    stroke-dashoffset="{{ seg.offset }}" />
            {% endfor %}
        </svg>

        <!-- legend -->
        <ul class="list-group w-100">
            {% for seg in segments %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <span>
                    <span style="display:inline-block;width:12px;height:12px;
                                 background:{{ seg.color }};
                                 margin-right:8px;border-radius:2px;"></span>
                    {{ seg.name }}
                </span>
                <span>{{ seg.hms }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>

    <!-- range shortcuts -->
    <div class="btn-group mb-4">
        <a href="/summary?key={{ key }}&range=1d"  class="btn btn-outline-primary">24 h</a>
        <a href="/summary?key={{ key }}&range=3d"  class="btn btn-outline-primary">3 d</a>
        <a href="/summary?key={{ key }}&range=7d"  class="btn btn-outline-primary">7 d</a>
        <a href="/summary?key={{ key }}&range=30d" class="btn btn-outline-primary">30 d</a>
    </div>

    <a href="/?key={{ key }}" class="btn btn-secondary">Back</a>
</body>
</html>
